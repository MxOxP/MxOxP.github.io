<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../resources/css/bootstrap.min.css">
    <link rel="stylesheet" href="../resources/css/master.css">
    <script src="../resources/js/jquery-3.5.1.min.js"></script>
    <script src="../resources/js/popper.min.js"></script>
    <script src="../resources/js/bootstrap.min.js"></script>
    <script src="../resources/js/fontawesome.js"></script>
    <script src="../resources/js/bootbox.js"></script>
    <link rel="stylesheet" href="../resources/css/modal.css">
    <link rel="stylesheet" href="../resources/css/drawer.css">
    <link rel="stylesheet" href="../resources/css/slide12.css">
    <title>Document</title>
    <script>
        var respuestas = ["...", "empresas", "la movilidad", "gobiernos", "Misión",
            "la calidad de vida", "2027", "Visión", "Soluciones integrales"];
        var alto = $(window).height();
        var ancho = $(window).width();
        //Metodo para cuando cambie la resolucion y saber si mostrar el titulo completo o no
        $(window).resize(function () {
            alto = $(window).height();
            ancho = $(window).width();
            if (ancho > 768) {
                $(".margenHeader label").html("Bienvenid@ a bordo");
            }
        });
        $(document).ready(function () {
            for (var i = 0; i < respuestas.length; i++) {
                $(".respuestas").append(`<option id="opcion${i}" value="${respuestas[i]}">${respuestas[i]}</option>`);
            }
            $(".respuestas").change(function () {
                var checados = true;
                $(this).prop("disabled", true);
                // $(this).html("<option>" + $(this).val() + "</option>");
                $(".respuestas").find("option[value='" + $(this).val() + "']").hide();
                $(this).parent(".input-group").find("i").show();
                $(".respuestas").each(function () {
                    if ($(this).val() == "...") {
                        checados = false;
                    } 
                });
                if (checados) {
                    $("#btnValidar").fadeIn();
                }
                $(".borrar").click(function () {
                    var select = $(this).closest(".input-group").find("select");
                    select.prop("disabled", false);
                    var valRec = select.val();
                    select.val("...");
                    $(".respuestas").find("option[value='" + valRec + "']").show();

                    $(this).hide();

                });
            });
            ///*********Set time para que aparezca el boton de adelante


            //***********Este metodo va a funcionar practicamente solo para dispositivos moviles para posicionar
            // los iconos del header al hacer scroll
            $(window).scroll(function () {
                var desplazamientoActual = $(document).scrollTop();
                if (desplazamientoActual > 80) {
                    $(".headWebR .logoCec").removeClass("d-none");
                    $(".footerCentro div").removeClass("d-none");
                    if (ancho < 768) {
                        $(".margenHeader label").html("B@B");
                    }
                } else {
                    $(".headWebR .logoCec").addClass("d-none");
                    $(".footerCentro div").addClass("d-none");
                    if (ancho < 768) {
                        $(".margenHeader label").html("Bienvenid@ a bordo");
                    }
                }
            });
        });
        function reiniciar() {
            $("i").addClass("fas fa-eraser");
            $("i").removeClass("fa fa-close");
            $("i").removeClass("fa-check");
            $("i").hide();
            $(".respuestas").prop("disabled", false);
            $(".respuestas").val($("#opcion0").val());
            $("#btnReiniciar").fadeOut();
            $(".respuestas").html("");
            for (var i = 0; i < respuestas.length; i++) {
                $(".respuestas").append(`<option id="opcion${i}" value="${respuestas[i]}">${respuestas[i]}</option>`);
            }
        }
        function btnValidar() {
            var aux = 1;
            var error = false;
            var tmodal = "";
            var titleModal = "";
            $(".respuestas").each(function () {
                switch (aux) {
                    case 1:
                        if ($(this).val() != "Visión") {
                            $(this).parent(".input-group").find("i").removeClass("fas fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa fa-close");
                            error = true;
                        } else {
                            $(this).parent(".input-group").find("i").removeClass("fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa-check");
                        }
                        aux++;
                        break;
                    case 2:
                        if ($(this).val() != "2027") {
                            $(this).parent(".input-group").find("i").removeClass("fas fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa fa-close");
                            error = true;
                        } else {
                            $(this).parent(".input-group").find("i").removeClass("fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa-check");
                        }
                        aux++;
                        break;
                    case 3:
                        if ($(this).val() != "Soluciones integrales") {
                            $(this).parent(".input-group").find("i").removeClass("fas fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa fa-close");
                            error = true;
                        } else {
                            $(this).parent(".input-group").find("i").removeClass("fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa-check");
                        }
                        aux++;
                        break;
                    case 4:
                        if ($(this).val() != "empresas") {
                            $(this).parent(".input-group").find("i").removeClass("fas fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa fa-close");
                            error = true;
                        } else {
                            $(this).parent(".input-group").find("i").removeClass("fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa-check");
                        }
                        aux++;
                        break;
                    case 5:
                        if ($(this).val() != "gobiernos") {
                            $(this).parent(".input-group").find("i").removeClass("fas fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa fa-close");
                            error = true;
                        } else {
                            $(this).parent(".input-group").find("i").removeClass("fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa-check");
                        }
                        aux++;
                        break;
                    case 6:
                        if ($(this).val() != "Misión") {
                            $(this).parent(".input-group").find("i").removeClass("fas fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa fa-close");
                            error = true;
                        } else {
                            $(this).parent(".input-group").find("i").removeClass("fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa-check");
                        }
                        aux++;
                        break;
                    case 7:
                        if ($(this).val() != "la calidad de vida") {
                            $(this).parent(".input-group").find("i").removeClass("fas fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa fa-close");
                            error = true;
                        } else {
                            $(this).parent(".input-group").find("i").removeClass("fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa-check");
                        }
                        aux++;
                        break;
                    case 8:
                        if ($(this).val() != "la movilidad") {
                            $(this).parent(".input-group").find("i").removeClass("fas fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa fa-close");
                            error = true;
                        } else {
                            $(this).parent(".input-group").find("i").removeClass("fa-eraser");
                            $(this).parent(".input-group").find("i").addClass("fa-check");
                        }
                        aux++;
                        if (error) {
                            $("#btnValidar").hide();
                            $("#btnReiniciar").fadeIn();
                            tmodal = "Algunas de tus respuestas son incorrectas, intenta otra vez";
                            titleModal = "¡Ups!";
                        }
                        else {
                            $("#btnValidar").hide();
                            $(".btnAdelante").fadeIn(1000);
                            tmodal = "Avanza para terminar";
                            titleModal = "¡Bien hecho!";
                        }
                        var dialog = bootbox.alert({
                            title: titleModal,
                            message: tmodal,
                            centerVertical: true,
                            size: 'md'
                        });
                        //  *******El siguiente metodo es para habilitar el boton cerrar del modal
                        dialog.init(function () {
                            $(".all").css("filter", "blur(5px)");
                            setTimeout(function () {
                                dialog.find(".close").css("color", "#e2221d");
                                dialog.find(".close").css("opacity", "1");
                                dialog.find(".close").css("pointer-events", "all");
                                $(".all").css("filter", "none");
                            }, 3000);
                        });
                        break;
                }

            });
        }
        //*********Metodo para abrir drawer
        function openNav() {
            $("#mySidenav").css("width", "300px");
            $(".footerDrawer").show();
            $(".backDrawer").fadeIn();
            $(".all").css("filter", "blur(5px)");
            $(".headMobil").css("display", "none !important");
        }
        //*********Metodo para cerrar drawer
        function closeNav() {
            $("#mySidenav").css("width", "0px");
            $(".backDrawer").hide();
            $(".footerDrawer").fadeOut();
            $(".all").css("filter", "unset");
            $(".headMobil").show();
        }
    </script>
</head>

<body>
    <div class="container-fluid all">
        <section class="row headMobil d-flex d-md-none justify-content-center">
            <div class="col-3">
                <img src="../resources/img/CEC.png" class="logoCec" alt="CEC">
            </div>
            <div class="col-6"></div>
            <div class="col-3">
                <img src="../resources/img/Mobility.png" class="logoMobility" alt="Mobility">
            </div>
        </section>
        <!-- ********SECCION PARA HEADER -->
        <header class="row header sticky-top">
            <div class="col-12">
                <div class="row headWeb d-flex flex-row flex-nowrap justify-content-between">
                    <div class=" d-flex flex-column justify-content-center margenHeader">
                        <!-- <i class="fas fa-ellipsis-h btnDraw" ></i> -->
                        <img src="../resources/img/Drawer.png" class="btnDraw" onclick="openNav()" alt="">
                    </div>
                    <div class=" d-flex justify-content-center margenHeader">
                        <label>Bienvenida @ Bordo</label>
                    </div>
                    <div class="   headWebR margenHeader">
                        <img src="../resources/img/CEC.png" class="logoCec d-none d-md-inline" alt="CEC">
                    </div>
                </div>
            </div>
        </header>

        <!-- *******SECCION BODY -->
        <section class="row body">
            <!-- Este div parrafo se creo para ejemplo explicado a mau -->
            <div class="col-12">
                <div class="row">
                    <div class="Instrucciones col-sm-8 ">
                        <label for=""><span>Selecciona</span> la opción que <span>complete</span> la oración.</label>
                        <div class="separador col-sm-12"></div>
                    </div>
                </div>
                <div class="row contenidoEjercicio">
                    <div class="col-md-6">
                        <div class="row">
                            <div class="col-12">
                                <label>Es nuestra</label>
                                <div class="input-group"><select class="respuestas" id="select1"></select><span
                                        class="input-group-addon"><i class="fas fa-eraser borrar"></i></span></div>

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <label>En el </label>
                                <div class="input-group"><select class="respuestas" id="select2"></select><span
                                        class="input-group-addon"><i class="fas fa-eraser borrar"></i></span></div>
                                <p>seremos una empresa global,</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <label>experta en</label>
                                <div class="input-group"><select class="respuestas" id="select3"></select><span
                                        class="input-group-addon"><i class="fas fa-eraser borrar"></i></span></div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <label>de movilidad, para personas</label>
                                <div class="input-group"><select class="respuestas" id="select4"></select><span
                                        class="input-group-addon"><i class="fas fa-eraser borrar"></i></span></div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <label>y </label>
                                <div class="input-group"><select class="respuestas" id="select5"
                                        style="margin-top: 0.4em;"></select><span class="input-group-addon"><i
                                            class="fas fa-eraser borrar"></i></span></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mobilMargenEj ">
                        <div class="row">
                            <div class="col-12 d-flex justify-content-around">
                                <label>Es nuestra&nbsp;</label>
                                <div class="input-group"><select class="respuestas" id="select6"></select><span
                                        class="input-group-addon"><i class="fas fa-eraser borrar"></i></span></div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 d-flex justify-content-around">
                                <label>Mejorar &nbsp; &nbsp; &nbsp;</label>
                                <div class="input-group"><select class="respuestas" id="select7"></select><span
                                        class="input-group-addon"><i class="fas fa-eraser borrar"></i></span></div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 d-flex justify-content-around">
                                <label>a través de&nbsp;</label>
                                <div class="input-group"><select class="respuestas" id="select8"></select><span
                                        class="input-group-addon"><i class="fas fa-eraser borrar"></i></span></div>

                            </div>
                        </div>
                        <div class="row">
                            <div class="offset-2 col-8 col-sm-6 d-flex justify-content-center">
                                <button class="btn btn-block btn-success validar" onclick="btnValidar()"
                                    id="btnValidar">Validar</button>
                                <button class="btn btn-block btn-success Reiniciar" onclick="reiniciar()"
                                    id="btnReiniciar">Reiniciar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ***SECCION PARA footer -->
        <section class="footer fixed-bottom d-flex flex-row flex-nowrap justify-content-between">
            <div class="">
                <img src="../resources/img/Atras.png" class="btnNavegacion btnAtras" alt="Atras">
            </div>
            <div class="footerCentro ">
                <div class="d-none d-md-inline ">
                    <img src="../resources/img/Mobility.png" class="logoMobility" alt="Mobility">
                </div>
            </div>
            <div class="">
                <img src="../resources/img/Adelante.png" class="btnNavegacion btnAdelante" alt="Adelante">
            </div>
        </section>
        <!-- ****SECCION BARRA DE PROGRESO -->
        <section class="progressBar fixed-bottom"></section>


    </div>
    <!-- seccion para el drawer -->
    <div class="backDrawer bootbox modal fade bootbox-alert show" onclick="closeNav()">

    </div>
    <section id="mySidenav" class="sidenav">
        <div class="dHeader">
            <img src="../resources/img/Universidad.png" alt="">
        </div>
        <div class="tituloDrawer">
            <h3>Índice</h3>
        </div>
        <div class="contentDrawer">
            <ul>
                <li class="visto">
                    Instrucciones de navegación
                </li>
                <li class="visto">
                    Contenido a aprender
                </li>
                <li class="visto" >
                    ¿Quienes somos?
                </li>
                <li>
                    Paises en los que tenemos presencia
                </li>
                <li>
                    Soluciones en movilidad
                </li>
            </ul>
        </div>
        <div class="footerDrawer fixed-bottom">
            <button class="btn btn-link">Salida</button>
        </div>
    </section>
</body>

</html>